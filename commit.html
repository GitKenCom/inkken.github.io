<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">commit | 墨见</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gitkencom.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://gitkencom.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://gitkencom.github.io/commit"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="commit | 墨见"><meta data-rh="true" name="description" content="Commit 规范"><meta data-rh="true" property="og:description" content="Commit 规范"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-01-25T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="开发"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://gitkencom.github.io/commit"><link data-rh="true" rel="alternate" href="https://gitkencom.github.io/commit" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://gitkencom.github.io/commit" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="墨见 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="墨见 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ba952261.css">
<link rel="preload" href="/assets/js/runtime~main.84a874da.js" as="script">
<link rel="preload" href="/assets/js/main.3dfdab47.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="墨见 Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="墨见 Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">墨见</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Blog</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/all-the-big-patterns-behind-are-a-kind-of-fulfillment">所有的大格局，背后都是一种成全</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/stay-away-from-those-who-disrupt-your-peace">远离那些破坏你平静的人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/people-who-are-not-sociable-have-very-high-comprehension">不合群的人，悟性都很高</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/be-a-person-who-is-loved-by-money">做一个被钱喜欢的人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zhuangzi-the-most-enlightened-way-of-living-is-with-a-mind-at-ease">庄子：最通透的活法，是心不受力</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hongyi-master-all-regrets-are-to-help-you-meet-yourself">弘一法师：所有遗憾，都是为了让你遇见自己</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/strong-never-entangle-and-directly-pay-the-bill-and-leave">强者从不纠缠，直接买单离场</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/stronger-personality-charm-comes-from-steady-presence">强者的人格魅力，来自于气场稳</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/adults-smartest-social-approach-never-expose-but-will-distance-themselves">成年人最聪明的社交方式：从不拆穿，但会远离</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/better-educated-people-are-less-suitable-they-are-for-living-at-the-bottom">教养越好的人，越不适合在底层生活</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/top-level-social-pattern">最顶级的社交格局</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/there-is-an-advanced-awareness-seeing-everyone-as-good-people">有一种高级的认知：看谁都是好人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/true-high-emotional-intelligence-is-to-make-people-feel-reassured">真正的高情商，是让人放心</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/truly-high-emotional-intelligence-people-are-quiet-and-do-more">真正高情商的人，都是话少做多</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/ten-laws-of-social-operation-are-very-important-and-it-isn-t-too-late-to-understand-them-now">社会运行的十大法则，很重要，现在读懂还不晚</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/no-matter-where-you-work-do-not-overestimate-your-relationship-with-anyone">无论在哪上班，不要高估和任何人的关系</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/romain-rolland-dead-for-80-years-his-life-wisdom-is-condensed-in-these-6-sentences">罗曼·罗兰逝世80年：他的人生智慧，浓缩在这6句话里</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/power-of-running-what-changes-happen-to-people-who-run-regularly">《跑步的力量》：经常跑步的人，身上会发生什么样的变化？</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/a-sign-of-a-strong-mind-nothing-is-assumed-in-advance">一个人内心强大的标志：凡事不预设</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/a-radical-mindset-i-no-longer-want-it">一个很绝的心态：我不要了</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/human-nature-greatest-weakness-desire-to-be-liked-by-others">人性最大的弱点：渴望被人喜欢</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/underlying-logic-of-maintaining-a-relationship">维系一段关系的底层逻辑</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/the-old-man-and-the-sea-if-hard-work-does-not-lead-to-success-why-should-we-still-work-hard">《老人与海》：如果努力也不能成功，那我们为什么还要努力</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/rickshaw-boy-to-break-free-from-3-poor-mindsets-or-no-amount-of-effort-will-achieve-financial-freedom">《骆驼祥子》：不破除3种穷人思维，再努力也实现不了财务自由</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/most-healing-7-zen-poems-better-than-all-the-inspirational-soup-you-have-read">史上最治愈的7首禅诗，胜过你读的所有鸡汤</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/life-advice-66-micro-habits-to-improve-your-fortune">人生建议：让自己转运的66个微习惯</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/at-work-never-get-into-conflicts-with-anyone">在单位，千万别跟任何人较劲</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/after-reading-the-shawshank-redemption-10-times-i-realized-smart-people-change-their-fate-during-low-periods">读了10遍《肖申克的救赎》我顿悟：聪明人都在低谷期改命</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/unhappy-families-often-have-a-person-who-is-aggressive-at-home">不幸的家庭，都有一个“窝里横”的人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/never-build-walls-in-your-home">永远不要在家里筑墙</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/zhuangzi-the-seven-states-of-a-person-with-terribly-strong-inner-self">《庄子》：一个人内心强大到可怕的七种境界</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/root-cause-of-a-person-feeling-exhausted-is-not-low-energy-but-high-energy-expenditure">一个人活得太累的根源：不是能量太低，而是能耗太高</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hidden-rules-of-adults-getting-along-respect-only-don&#x27;t-educate-screen-only-don&#x27;t-change">成年人相处潜规则：只尊重不教育，只筛选不改变</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/ending-a-relationship-most-dignified-way">结束一段关系最体面的方式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fastest-way-for-middle-aged-people-to-change-their-fortune-go-out">中年转运最快的方式：走出去</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/best-way-to-get-rid-of-social-inner-exhaustion">摆脱社交内耗最好的方式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/sign-of-a-person&#x27;s-high-emotional-intelligence-giving-unnecessary-victories-to-the-other-side">一个人高情商的标志：把无谓的胜利让给对方</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fastest-way-to-turn-around-a-family&#x27;s-fortune-talking-kindly">一个家庭转运最快的方式：好好说话</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/power-of-mindfulness">正念的力量</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/read-dao-de-jing-three-times-i-decided-to-re-nurture-myself-once">看了3遍《道德经》，我决定重养自己一遍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/world&#x27;s-top-ten-effects">世界十大效应</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/psychology-of-love">恋爱心理学</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/the-highest-realm-of-love-is-to-discover-beauty-in-the-trivialities">爱情的最高境界：从琐碎中发现美</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/enjoy-life-starts-from-learning-to-let-go">享受生活，从学会放下开始</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/only-when-one-respects-themselves-can-they-love-others-better">一个人只有尊重自己，才能更好的爱他人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/how-to-scientifically-stand-someone-up-without-getting-caught-i-referenced-schrödinger-newton-yuan-longping-and-others">如何科学放鸽子而不被打？我参考了薛定谔牛顿袁隆平....</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/world-s-top-ten-paradoxes">世界十大悖论</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/a-persons-best-wellness-is-less-worry-more-smiles-and-a-relaxed-mind">一个人最好的养生：少思虑，多微笑，心放宽</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/schrodinger&#x27;s-cat">薛定谔的猫</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/the-less-you-quarrel-the-more-blessings-you-receive">计较得越少，福报越多</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/three-traits-of-a-successful-person">一个人成功的三个特质</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/taking-good-care-of-yourself-is-the-start-of-becoming-better">照顾好自己，是一个人变好的开始</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/a-persons-best-mindset-is-to-be-disciplined-and-casual">一个人最好的心态：自律且随意</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/commit">commit</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/branch-management">分支管理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/n">n</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/nrm">nrm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cnpm">cnpm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/npm">npm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/yarn">yarn</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/git">git</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fun-places-to-stay-in-xiamen">厦门好玩的地方</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/fun-places-to-stay-in-shanghai">上海好玩的地方</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/you-in-my-memories">记忆中的你</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/welcome">Welcome</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Commit 规范"><header><h1 class="title_f1Hy" itemprop="headline">commit</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-01-25T00:00:00.000Z" itemprop="datePublished">2022年1月25日</time> · <!-- -->阅读需 12 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">夏一</span></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="commit-规范">Commit 规范<a href="#commit-规范" class="hash-link" aria-label="Commit 规范的直接链接" title="Commit 规范的直接链接">​</a></h2><p>本文主要介绍使用 git commit 提交代码时 message 书写规范及校验约束工具 commitlint，推荐遵循 message 规范。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-commit-提交规范">git commit 提交规范<a href="#git-commit-提交规范" class="hash-link" aria-label="git commit 提交规范的直接链接" title="git commit 提交规范的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1message-提交格式">1.message 提交格式<a href="#1message-提交格式" class="hash-link" aria-label="1.message 提交格式的直接链接" title="1.message 提交格式的直接链接">​</a></h4><p>在执行 git add . 后，执行 git commit 时，代码有变动，并需要特殊说明更改内容时，message 信息遵循下方定义的格式。（如没有特殊更改及说明可以使用：<code>git commit -m &lt;message&gt;</code> 提交代码）。</p><p>示例</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git commit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feat(global): 新增支持表格金额千分位显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">新增以下内容：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 金额的小数位默认保留两位小数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 金额的小数位没有的话自动补2位0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- 如果需要保留的不是2位的话自行改一下位数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Closes #122</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>注：issue#122：客户反馈希望表格中的金额用千分位展示。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="message-格式">message 格式<a href="#message-格式" class="hash-link" aria-label="message 格式的直接链接" title="message 格式的直接链接">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 空行 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;body&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;!-- 空行 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;footer&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>字段</th><th>必须</th><th>说明</th></tr></thead><tbody><tr><td>*<!-- -->type</td><td>是</td><td>提交类别</td></tr><tr><td>scope</td><td>否</td><td>用于说明 commit 影响的范围，建议填写影响的功能模块</td></tr><tr><td>*<!-- -->subject</td><td>是</td><td>commit 目的的简短描述，不超过 50 个字符</td></tr><tr><td>body</td><td>否(建议填写)</td><td>描述当前修改的行为详细信息或修改的目的</td></tr><tr><td>footer</td><td>否</td><td>一般用于描述 BREAKING CHANGE 或修复的 bug 的链接，在项目开发中一般不需要填写，组件研发的工程需要填写</td></tr></tbody></table><h6 class="anchor anchorWithStickyNavbar_LWe7" id="type-提交类别">*<!-- -->type 提交类别<a href="#type-提交类别" class="hash-link" aria-label="type-提交类别的直接链接" title="type-提交类别的直接链接">​</a></h6><p>必填，type 在 commit 的 message 中是必须存在的。type 可以有以下取值。</p><table><thead><tr><th>值</th><th>说明</th></tr></thead><tbody><tr><td>feat</td><td>新功能、新特性</td></tr><tr><td>fix</td><td>修复 bug</td></tr><tr><td>docs</td><td>文档修改</td></tr><tr><td>perf</td><td>更改代码，以提高性能（在不影响代码内部行为的前提下，对程序性能进行优化）</td></tr><tr><td>style</td><td>仅仅修改了空格、格式缩进、逗号等代码格式，不改变代码逻辑，不影响代码运行的变动，注意不是样式修改</td></tr><tr><td>refactor</td><td>代码重构（重构，在不影响代码内部行为、功能下的代码修改）</td></tr><tr><td>test</td><td>测试用例新增、修改</td></tr><tr><td>revert</td><td>回滚到上一个版本</td></tr><tr><td>build</td><td>影响项目构建或依赖项修改</td></tr><tr><td>ci</td><td>持续集成相关文件修改</td></tr><tr><td>workflow</td><td>工作流相关文件修改</td></tr><tr><td>chore</td><td>其他修改（不在上述类型中的修改）</td></tr></tbody></table><h6 class="anchor anchorWithStickyNavbar_LWe7" id="scope-影响范围">scope 影响范围<a href="#scope-影响范围" class="hash-link" aria-label="scope 影响范围的直接链接" title="scope 影响范围的直接链接">​</a></h6><p>非必填（建议填写），scope 用于说明 commit 影响的范围，建议填写影响的功能模块。如果修改影响不止一个 scope，可以使用 <!-- -->*<!-- --> 代替。</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="subject-简短描述">*<!-- -->subject 简短描述<a href="#subject-简短描述" class="hash-link" aria-label="subject-简短描述的直接链接" title="subject-简短描述的直接链接">​</a></h6><p>必填，commit 目的的简短描述，不超过 50 个字符。</p><p>• 以动词开头</p><p>• 第一个字母小写</p><p>• 结尾不加句号</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="body-详细信息">body 详细信息<a href="#body-详细信息" class="hash-link" aria-label="body 详细信息的直接链接" title="body 详细信息的直接链接">​</a></h6><p>非必填（建议填写），可描述当前修改的行为详细信息或修改的目的。</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="footer-其他信息">footer 其他信息<a href="#footer-其他信息" class="hash-link" aria-label="footer 其他信息的直接链接" title="footer 其他信息的直接链接">​</a></h6><p>非必填，一般用于描述 BREAKING CHANGE，在项目开发中一般不需要填写，组件研发的工程需要填写。Footer 部分只用于两种情况</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="1不兼容变动">（1）不兼容变动<a href="#1不兼容变动" class="hash-link" aria-label="（1）不兼容变动的直接链接" title="（1）不兼容变动的直接链接">​</a></h6><p>如果当前代码与上一个版本不兼容，则 Footer 部分以<code>BREAKING CHANGE</code>开头，后面是对变动的描述、以及变动理由和迁移方法。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">BREAKING CHANGE: isolate scope bindings definition has changed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    To migrate the code follow the example below:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Before:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scope: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attrData: &#x27;attribute&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    After:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    scope: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attrData: &#x27;citcAttribute&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The removed `inject` wasn&#x27;t generaly useful for directives so there should be no code usin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="2关闭-issue">（2）关闭 Issue<a href="#2关闭-issue" class="hash-link" aria-label="（2）关闭 Issue的直接链接" title="（2）关闭 Issue的直接链接">​</a></h6><p>如果当前 commit 针对某个 issue，那么可以在 Footer 部分关闭这个 issue 。如果是关闭 bug，可以放上对应 bug 链接。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Closes #235</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Closes #123, #245, #992</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-示例">2 示例<a href="#2-示例" class="hash-link" aria-label="2 示例的直接链接" title="2 示例的直接链接">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="fix">fix<a href="#fix" class="hash-link" aria-label="fix的直接链接" title="fix的直接链接">​</a></h5><p>如果修复的这个 bug 只影响当前修改的文件，可不加范围。如果影响的范围比较大，要加上范围描述。</p><p>例如这次 bug 修复影响到全局，可以加个 global。如果影响的是某个目录或某个功能，可以加上该目录的路径，或者对应的功能名称。</p><p>// 示例 1</p><p>fix(global): 修复 checkbox 不能复选的问题</p><p>// 示例 2 下面圆括号里的 order 为订单模块的名称。</p><p>fix(order): 修复页面顶部提示语字体过小的 bug，将订单模块下所有页面顶部提示语的默认字体大小修改为 14px</p><p>// 示例 3</p><p>fix: value.length -&gt; values.length</p><p>// 示例 4 在实际开发中一般会使用项目管理工具比如禅道，这个时候修复 bug，需要带上 bugID。</p><p>fix: bug<em>5788 【订单管理</em>订单台账】切换默认条数后合计数显示与切换前的格式展示不一致</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="feat">feat<a href="#feat" class="hash-link" aria-label="feat的直接链接" title="feat的直接链接">​</a></h5><p>// 示例 1 不推荐，没有提交类型，功能描述不是很清晰。内容较多时可以用一句话概括，具体内容写在 body 中。</p><p>修改新增 数据统计 tab 切换</p><p>//示例 2</p><p>feat: 新增分公司计划收入模块</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="chore">chore<a href="#chore" class="hash-link" aria-label="chore的直接链接" title="chore的直接链接">​</a></h5><p>chore 的中文翻译为日常事务、例行工作，顾名思义，即不在其他 commit 类型中的修改，都可以用 chore 表示。</p><p>chore: 将表格中的查看详情改为详情</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="git-commit-强制规范工具commitlinthusky">Git Commit 强制规范工具（commitlint+husky）<a href="#git-commit-强制规范工具commitlinthusky" class="hash-link" aria-label="Git Commit 强制规范工具（commitlint+husky）的直接链接" title="Git Commit 强制规范工具（commitlint+husky）的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置步骤汇总">配置步骤汇总<a href="#配置步骤汇总" class="hash-link" aria-label="配置步骤汇总的直接链接" title="配置步骤汇总的直接链接">​</a></h4><ul><li>安装 commitlint 和 husky</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install --save-dev @commitlint/config-conventional @commitlint/cli husky@4.3.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>根目录创建 commitlint.config.js</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;@commitlint/config-conventional&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>package.json 添加 hooks 实现 commit 时检查</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;devDependencies&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;husky&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hooks&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-commitlint">1. commitlint<a href="#1-commitlint" class="hash-link" aria-label="1. commitlint的直接链接" title="1. commitlint的直接链接">​</a></h4><p>commitlint 是当前使用最为广泛的 git commit 校验约束工具之一，在多人协作的背景下，推荐使用 commitlint + husky 规范 git commit -m &quot;&quot; 中的描述信息。commitlint 主要用途是在我们运行 <code>git commmit -m &#x27;xxx&#x27;</code> 时，用来检查 <code>xxx</code> 是否满足固定格式。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="安装及生成配置文件">安装及生成配置文件<a href="#安装及生成配置文件" class="hash-link" aria-label="安装及生成配置文件的直接链接" title="安装及生成配置文件的直接链接">​</a></h5><p>commitlint: 安装及生成配置文件</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// 安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g @commitlint/cli @commitlint/config-conventional</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 生成配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;module.exports = {extends: [&#x27;@commitlint/config-conventional&#x27;]}&quot; &gt; commitlint.config.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn add  @commitlint/config-conventional @commitlint/cli -D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;module.exports = {extends: [&#x27;@commitlint/config-conventional&#x27;]}&quot; &gt; commitlint.config.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>config-conventional 是社区整理的常用的 Commit 规范，见如下</p><p><a href="https://www.npmjs.com/package/@commitlint/config-conventional" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/@commitlint/config-conventional</a></p><p>默认采用 config-conventional：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {extends: [&#x27;@commitlint/config-conventional&#x27;]}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>可自定义配置：</p><p>配置规则见 <a href="https://commitlint.js.org/#/reference-configuration" target="_blank" rel="noopener noreferrer">https://commitlint.js.org/#/reference-configuration</a></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    extends: [&#x27;@commitlint/config-conventional&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rules: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;type-enum&#x27;: [2, &#x27;always&#x27;, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;feat&quot;, &quot;upd&quot;, &quot;del&quot;, &quot;fix&quot;, &quot;refactor&quot;, &quot;test&quot;, &quot;perf&quot;, &quot;docs&quot;, &quot;style&quot;, &quot;revert&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;subject-full-stop&#x27;: [0, &#x27;never&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &#x27;subject-case&#x27;: [0, &#x27;never&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-husky">2. husky<a href="#2-husky" class="hash-link" aria-label="2. husky的直接链接" title="2. husky的直接链接">​</a></h4><p>Husky can prevent bad git commit, git push and more 🐶 woof!</p><p>husky 是一个增强的 git hook 工具，可以在 git hook 的各个阶段执行我们在 package.json 中配置好的 npm script。</p><p>借助 husky 在每次 commit 时执行 commitlint 来检查我们输入的 message。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="21-安装">2.1 安装<a href="#21-安装" class="hash-link" aria-label="2.1 安装的直接链接" title="2.1 安装的直接链接">​</a></h5><p><strong>注意</strong>：指定-g 也不对所有 Project 生效！每个 Project 都需要重新安装 husky。这里需要注意一点是安装最新<code>husky</code>版本会有各种各样问题, 建议大家安装 <code>4.3.8</code>版本，可以确保没有问题。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install husky@4.3.8 -D -g</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn add husky@4.3.8 -D</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="22-配置">2.2 配置<a href="#22-配置" class="hash-link" aria-label="2.2 配置的直接链接" title="2.2 配置的直接链接">​</a></h5><p>在 package.json 中配置 husky，commit-msg 指定为 commitlint （将在 git hook 的 commit-msg 阶段调用 commitlint ）。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;devDependencies&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;husky&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;hooks&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装配置完成后，当我们在当前项目中执行 git commit -m &#x27;测试提交&#x27; 时将触发 commit-msg 事件钩子并通知 husky，从而执行 commitlint -E HUSKY_GIT_PARAMS 命令，它将读取 commitlint.config.js 配置规则并对我们刚刚提交的测试提交这串文字进行校验，若校验通过，则完成 commit 提交。若校验不通过，则在终端输出错误，commit 终止。</p><p>示例</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;xxx&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">husky &gt; commit-msg (node v14.18.3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">⧗   input: xxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✖   subject may not be empty [subject-empty]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✖   type may not be empty [type-empty]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">✖   found 2 problems, 0 warnings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ⓘ   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">husky &gt; commit-msg hook failed (add --no-verify to bypass)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git commit -m &quot;feat:  测试提交&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">husky &gt; commit-msg (node v14.18.3)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[master 3f60f34] feat: 测试提交</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 files changed, 8 insertions(+), 1 deletion(-)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-commitizen-实现规范提交">使用 Commitizen 实现规范提交<a href="#使用-commitizen-实现规范提交" class="hash-link" aria-label="使用 Commitizen 实现规范提交的直接链接" title="使用 Commitizen 实现规范提交的直接链接">​</a></h3><p>上面介绍了规范提交的格式和校验约束工具，如果在 git commit 的时候严格按照上面的规范来写，需要记住不同的类型到底是用来定义什么的，subject 怎么写，body 怎么写，footer 要不要写。心智是有负担的。下面推荐一个工具在提交的时候来提示必填字段。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="commitizen">Commitizen<a href="#commitizen" class="hash-link" aria-label="Commitizen的直接链接" title="Commitizen的直接链接">​</a></h4><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Zen-like commit messages for internet citizens.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Commitizen 是一个帮助撰写规范 commit messages 的提示工具。</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="1安装和初始化">1.安装和初始化<a href="#1安装和初始化" class="hash-link" aria-label="1.安装和初始化的直接链接" title="1.安装和初始化的直接链接">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 第一步在工作目录安装 cz-relax</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install cz-relax --save-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 第二步初始化中文配置，如果报错提示需要使用force，请在最后添加 --force</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx cz-relax init --language zh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="2运行-git-cz-效果">2.运行 git cz 效果<a href="#2运行-git-cz-效果" class="hash-link" aria-label="2.运行 git cz 效果的直接链接" title="2.运行 git cz 效果的直接链接">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">git add .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git cz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cz-cli@4.2.5, cz-git@1.3.10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 选择你要提交的类型 : Use arrow keys or type to search</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">❯ feat:     新增功能 | A new feature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fix:      修复缺陷 | A bug fix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  docs:     文档更新 | Documentation only changes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  style:    代码格式 | Changes that do not affect the meaning of the code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  refactor: 代码重构 | A code change that neither fixes a bug nor adds a feature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  perf:     性能提升 | A code change that improves performance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  test:     测试相关 | Adding missing tests or correcting existing tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">(Move up and down to reveal more choices)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 选择你要提交的类型 : feat:     新增功能 | A new feature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 选择一个提交范围（可选）: empty</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 填写简短精炼的变更描述 :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> [Infinity more chars allowed]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 新增公司收入台账模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 填写更加详细的变更描述（可选）。使用 &quot;|&quot; 换行 :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 列举关联issue (可选) 例如: #31, #I3244 :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">###--------------------------------------------------------###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feat: 新增公司收入台账模块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">###--------------------------------------------------------###</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">? 是否提交或修改commit ? (Yneh)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">......</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>—END—</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/开发">开发</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/a-persons-best-mindset-is-to-be-disciplined-and-casual"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">一个人最好的心态：自律且随意</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/branch-management"><div class="pagination-nav__sublabel">较旧一篇</div><div class="pagination-nav__label">分支管理</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#commit-规范" class="table-of-contents__link toc-highlight">Commit 规范</a><ul><li><a href="#git-commit-提交规范" class="table-of-contents__link toc-highlight">git commit 提交规范</a></li><li><a href="#git-commit-强制规范工具commitlinthusky" class="table-of-contents__link toc-highlight">Git Commit 强制规范工具（commitlint+husky）</a></li><li><a href="#使用-commitizen-实现规范提交" class="table-of-contents__link toc-highlight">使用 Commitizen 实现规范提交</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 inkken, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.84a874da.js"></script>
<script src="/assets/js/main.3dfdab47.js"></script>
</body>
</html>